{"ast":null,"code":"import { state } from \"./modules/layout\";\nconst authModule = {\n  namespaced: true,\n  state: () => ({\n    token: null,\n    userId: null\n  }),\n  mutations: {\n    setToken(state, token) {\n      state.token = token;\n    },\n    setUser(state, userId) {\n      state.userId = userId;\n    },\n    clearAuth(state) {\n      state.token = null;\n      state.userId = null;\n    }\n  },\n  actions: {\n    login({\n      commit\n    }, Userformation) {\n      const {\n        token,\n        userId\n      } = Userformation;\n\n      // Lưu token và userId vào Vuex\n      commit('setToken', token);\n      commit('setUser', userId);\n\n      // Lưu token vào localStorage\n    },\n    logout({\n      commit\n    }) {\n      // Xóa dữ liệu trong Vuex\n      commit('clearAuth');\n\n      // Xóa token trong localStorage\n      localStorage.removeItem('token');\n    },\n    autoLogin({\n      commit\n    }) {\n      const token = localStorage.getItem('token');\n      if (token) {\n        commit('setToken', token);\n        // Gọi thêm API để lấy userId nếu cần\n      }\n    },\n    saveToken() {\n      localStorage.setItem('token', state.token);\n    }\n  },\n  getters: {\n    isAuthenticated(state) {\n      return !!state.token; // Trả về true nếu token không null\n    },\n    getUserId(state) {\n      return state.userId;\n    }\n  }\n};\nexport default authModule;","map":{"version":3,"names":["state","authModule","namespaced","token","userId","mutations","setToken","setUser","clearAuth","actions","login","commit","Userformation","logout","localStorage","removeItem","autoLogin","getItem","saveToken","setItem","getters","isAuthenticated","getUserId"],"sources":["D:/Code/BoardingHouseManagement/BoardingHouseManagement/FrontEnd/src/state/Authenticated.js"],"sourcesContent":["import { state } from \"./modules/layout\";\r\n\r\nconst authModule = {\r\n    namespaced: true,\r\n    state: () => ({\r\n        token: null,\r\n        userId: null,\r\n    }),\r\n    mutations: {\r\n        setToken(state, token) {\r\n            state.token = token;\r\n        },\r\n        setUser(state, userId) {\r\n            state.userId = userId;\r\n        },\r\n        clearAuth(state) {\r\n            state.token = null;\r\n            state.userId = null;\r\n        },\r\n    },\r\n    actions: {\r\n        login({ commit }, Userformation) {\r\n            const { token, userId } = Userformation\r\n\r\n            // Lưu token và userId vào Vuex\r\n            commit('setToken', token);\r\n            commit('setUser', userId);\r\n\r\n            // Lưu token vào localStorage\r\n            \r\n        },\r\n        logout({ commit }) {\r\n            // Xóa dữ liệu trong Vuex\r\n            commit('clearAuth');\r\n\r\n            // Xóa token trong localStorage\r\n            localStorage.removeItem('token');\r\n        },\r\n        autoLogin({ commit }) {\r\n            const token = localStorage.getItem('token');\r\n            if (token) {\r\n                commit('setToken', token);\r\n                // Gọi thêm API để lấy userId nếu cần\r\n            }\r\n        },\r\n        saveToken(){\r\n            localStorage.setItem('token', state.token);\r\n        }\r\n    },\r\n    getters: {\r\n        isAuthenticated(state) {\r\n            return !!state.token; // Trả về true nếu token không null\r\n        },\r\n        getUserId(state) {\r\n            return state.userId;\r\n        },\r\n    },\r\n};\r\nexport default authModule;"],"mappings":"AAAA,SAASA,KAAK,QAAQ,kBAAkB;AAExC,MAAMC,UAAU,GAAG;EACfC,UAAU,EAAE,IAAI;EAChBF,KAAK,EAAEA,CAAA,MAAO;IACVG,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE;EACZ,CAAC,CAAC;EACFC,SAAS,EAAE;IACPC,QAAQA,CAACN,KAAK,EAAEG,KAAK,EAAE;MACnBH,KAAK,CAACG,KAAK,GAAGA,KAAK;IACvB,CAAC;IACDI,OAAOA,CAACP,KAAK,EAAEI,MAAM,EAAE;MACnBJ,KAAK,CAACI,MAAM,GAAGA,MAAM;IACzB,CAAC;IACDI,SAASA,CAACR,KAAK,EAAE;MACbA,KAAK,CAACG,KAAK,GAAG,IAAI;MAClBH,KAAK,CAACI,MAAM,GAAG,IAAI;IACvB;EACJ,CAAC;EACDK,OAAO,EAAE;IACLC,KAAKA,CAAC;MAAEC;IAAO,CAAC,EAAEC,aAAa,EAAE;MAC7B,MAAM;QAAET,KAAK;QAAEC;MAAO,CAAC,GAAGQ,aAAa;;MAEvC;MACAD,MAAM,CAAC,UAAU,EAAER,KAAK,CAAC;MACzBQ,MAAM,CAAC,SAAS,EAAEP,MAAM,CAAC;;MAEzB;IAEJ,CAAC;IACDS,MAAMA,CAAC;MAAEF;IAAO,CAAC,EAAE;MACf;MACAA,MAAM,CAAC,WAAW,CAAC;;MAEnB;MACAG,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IACpC,CAAC;IACDC,SAASA,CAAC;MAAEL;IAAO,CAAC,EAAE;MAClB,MAAMR,KAAK,GAAGW,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAId,KAAK,EAAE;QACPQ,MAAM,CAAC,UAAU,EAAER,KAAK,CAAC;QACzB;MACJ;IACJ,CAAC;IACDe,SAASA,CAAA,EAAE;MACPJ,YAAY,CAACK,OAAO,CAAC,OAAO,EAAEnB,KAAK,CAACG,KAAK,CAAC;IAC9C;EACJ,CAAC;EACDiB,OAAO,EAAE;IACLC,eAAeA,CAACrB,KAAK,EAAE;MACnB,OAAO,CAAC,CAACA,KAAK,CAACG,KAAK,CAAC,CAAC;IAC1B,CAAC;IACDmB,SAASA,CAACtB,KAAK,EAAE;MACb,OAAOA,KAAK,CAACI,MAAM;IACvB;EACJ;AACJ,CAAC;AACD,eAAeH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}