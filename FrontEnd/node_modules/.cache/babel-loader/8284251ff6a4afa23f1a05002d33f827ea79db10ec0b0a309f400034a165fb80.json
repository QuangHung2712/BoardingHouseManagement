{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport apiClient from '@/plugins/axios';\nimport store from \"../../state/store\";\nimport common from \"@/components/common/JavaScripCommon\";\nexport default {\n  data() {\n    return {\n      rules: {\n        required: v => !!v || 'Vui lòng không để trống',\n        validPhone: v => /^0\\d{9}$/.test(v) || 'Số điện thoại phải có 10 chữ số và bắt đầu bằng 0',\n        validEmail: v => /^[a-zA-Z0-9._%+-]+@gmail\\.com$/.test(v) || 'Email phải hợp lệ và kết thúc bằng @gmail.com',\n        validPassword: v => /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/.test(v) || 'Mật khẩu phải có ít nhất 8 ký tự, bao gồm ít nhất 1 chữ cái và 1 chữ số',\n        matchPassword: v => v === this.changePassword.passwordNew || 'Mật khẩu xác nhận không khớp'\n      },\n      post: {}\n    };\n  },\n  created() {\n    this.customerId = store.getters['getCustomerId'] ?? 0;\n    this.GetSaveRoom();\n  },\n  methods: {\n    GetSaveRoom() {\n      apiClient.get(`/Customer/GetSaveRoom?id=${this.customerId}`).then(response => {\n        this.roomSaveData = response.data;\n      }).catch(error => {\n        this.message = \"Lấy danh sách phòng lưu bị lỗi \" + error;\n        this.snackbar = true;\n        this.snackbarColor = 'red';\n      });\n    },\n    SaveRoom(roomId) {\n      // Gửi yêu cầu API\n      apiClient.put(`/Room/SaveRoom?customerId=${this.customerId}&roomId=${roomId}&status=${true}`).then(() => {\n        // Hiển thị thông báo thành công\n        this.message = \"Xoá phòng thành công\";\n        this.snackbar = true;\n        this.snackbarColor = \"green\";\n        this.GetSaveRoom();\n      }).catch(error => {\n        // Xử lý lỗi\n        this.message = \"Lưu phòng đã xảy ra lỗi: \" + (error.response?.data?.message || error.message || \"Không xác định\");\n        this.snackbar = true;\n        this.snackbarColor = \"red\";\n      });\n    },\n    GotoDetail(roomId) {\n      this.$router.push({\n        name: 'detail',\n        params: {\n          idroom: roomId\n        }\n      });\n    },\n    FormatPrice(price) {\n      return common.formatTablePrice(price);\n    }\n  }\n};","map":{"version":3,"names":["apiClient","store","common","data","rules","required","v","validPhone","test","validEmail","validPassword","matchPassword","changePassword","passwordNew","post","created","customerId","getters","GetSaveRoom","methods","get","then","response","roomSaveData","catch","error","message","snackbar","snackbarColor","SaveRoom","roomId","put","GotoDetail","$router","push","name","params","idroom","FormatPrice","price","formatTablePrice"],"sources":["D:\\Du_An\\BoardingHouseManagement\\FrontEnd\\src\\views\\FindRoom\\Post.vue"],"sourcesContent":["<script>\r\n    import apiClient from '@/plugins/axios';\r\n    import store from \"../../state/store\";\r\n    import common from \"@/components/common/JavaScripCommon\"\r\n    export default {\r\n        data(){\r\n            return{\r\n                rules: {\r\n                    required: v => !!v || 'Vui lòng không để trống',\r\n                    validPhone: v => /^0\\d{9}$/.test(v) || 'Số điện thoại phải có 10 chữ số và bắt đầu bằng 0',\r\n                    validEmail: v => /^[a-zA-Z0-9._%+-]+@gmail\\.com$/.test(v) || 'Email phải hợp lệ và kết thúc bằng @gmail.com',\r\n                    validPassword: v=> /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/.test(v) || 'Mật khẩu phải có ít nhất 8 ký tự, bao gồm ít nhất 1 chữ cái và 1 chữ số',\r\n                    matchPassword: (v) =>v === this.changePassword.passwordNew || 'Mật khẩu xác nhận không khớp',\r\n                },\r\n                post:{\r\n\r\n                }\r\n            }\r\n        },\r\n        created(){\r\n            this.customerId = store.getters['getCustomerId'] ?? 0;\r\n            this.GetSaveRoom();\r\n        },\r\n        methods:{\r\n            GetSaveRoom(){\r\n                apiClient.get(`/Customer/GetSaveRoom?id=${this.customerId}`)\r\n                        .then(response=>{\r\n                            this.roomSaveData = response.data;\r\n                        })\r\n                        .catch(error=>{\r\n                            this.message = \"Lấy danh sách phòng lưu bị lỗi \" + error;\r\n                            this.snackbar = true;\r\n                            this.snackbarColor = 'red';\r\n                        })\r\n            },\r\n            SaveRoom(roomId){\r\n                // Gửi yêu cầu API\r\n                apiClient\r\n                .put(`/Room/SaveRoom?customerId=${this.customerId}&roomId=${roomId}&status=${true}`)\r\n                .then(() => {\r\n                    // Hiển thị thông báo thành công\r\n                    this.message = \"Xoá phòng thành công\";\r\n                    this.snackbar = true;\r\n                    this.snackbarColor = \"green\";\r\n                    this.GetSaveRoom();\r\n                })\r\n                .catch((error) => {\r\n                    // Xử lý lỗi\r\n                    this.message =\r\n                    \"Lưu phòng đã xảy ra lỗi: \" +\r\n                    (error.response?.data?.message || error.message || \"Không xác định\");\r\n                    this.snackbar = true;\r\n                    this.snackbarColor = \"red\";\r\n                })\r\n            },\r\n            GotoDetail(roomId){\r\n                this.$router.push({ name: 'detail', params: { idroom: roomId } });\r\n            },\r\n            FormatPrice(price){\r\n                return common.formatTablePrice(price);\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<template>\r\n    <v-container>\r\n        \r\n        <v-row>\r\n            <v-col md=\"2\"></v-col>\r\n            <v-col cols=\"12\" md=\"8\">\r\n                <BCard>\r\n                    <BCardHeader>\r\n                        <h3>Đăng bài tìm người ở Ghép</h3>\r\n                    </BCardHeader>\r\n                    <BCardBody>\r\n                        <BRow>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group mt-lg-3\">\r\n                                    <label class=\"form-label\">Tiêu đề bài đăng</label>\r\n                                    <v-text-field \r\n                                        type=\"text\" \r\n                                        variant=\"outlined\" \r\n                                        placeholder=\"Họ và tên\" \r\n                                        :rules=\"[rules.required]\" \r\n                                        v-model=\"post.name\"\r\n                                    ></v-text-field>     \r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Tỉnh</label>\r\n                                    <v-autocomplete\r\n                                        v-model=\"selectTinh\"\r\n                                        :items=\"tinhData\"\r\n                                        item-title=\"full_name\"\r\n                                        item-value=\"id\"\r\n                                        outlined\r\n                                        dense\r\n                                        clearable\r\n                                        @update:modelValue=\"onTinhChange\"\r\n                                    ></v-autocomplete>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Quận, huyện</label>\r\n                                    <v-autocomplete\r\n                                        v-model=\"selectHuyen\"\r\n                                        :items=\"huyenData\"\r\n                                        item-title=\"full_name\"\r\n                                        item-value=\"id\"\r\n                                        outlined\r\n                                        dense\r\n                                        clearable\r\n                                        :disabled=\"!selectTinh\"\r\n                                        @update:modelValue=\"onHuyenChange\"\r\n                                    ></v-autocomplete>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Phường, xã</label>\r\n                                    <v-autocomplete\r\n                                        v-model=\"selectPhuong\"\r\n                                        :items=\"phuongData\"\r\n                                        item-title=\"full_name\"\r\n                                        item-value=\"id\"\r\n                                        outlined\r\n                                        dense\r\n                                        clearable\r\n                                        :disabled=\"!selectHuyen\"\r\n                                        @update:modelValue=\"onPhuongChange\"\r\n                                    ></v-autocomplete>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Số nhà:</label>\r\n                                    <v-text-field\r\n                                        v-model=\"address\"\r\n                                        variant=\"outlined\"\r\n                                        :disabled=\"!selectPhuong\"\r\n                                        clearable\r\n                                        placeholder=\"Nhập vào số nhà\"\r\n                                        class=\"input-control\"\r\n                                        @input=\"FormatAddress\"\r\n                                    ></v-text-field>\r\n                                </div>\r\n                            </BCol>\r\n                        </BRow>\r\n                    </BCardBody>\r\n                </BCard>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>"],"mappings":";AACI,OAAOA,SAAQ,MAAO,iBAAiB;AACvC,OAAOC,KAAI,MAAO,mBAAmB;AACrC,OAAOC,MAAK,MAAO,qCAAoC;AACvD,eAAe;EACXC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,KAAK,EAAE;QACHC,QAAQ,EAAEC,CAAA,IAAK,CAAC,CAACA,CAAA,IAAK,yBAAyB;QAC/CC,UAAU,EAAED,CAAA,IAAK,UAAU,CAACE,IAAI,CAACF,CAAC,KAAK,mDAAmD;QAC1FG,UAAU,EAAEH,CAAA,IAAK,gCAAgC,CAACE,IAAI,CAACF,CAAC,KAAK,+CAA+C;QAC5GI,aAAa,EAAEJ,CAAC,IAAG,wCAAwC,CAACE,IAAI,CAACF,CAAC,KAAK,yEAAyE;QAChJK,aAAa,EAAGL,CAAC,IAAIA,CAAA,KAAM,IAAI,CAACM,cAAc,CAACC,WAAU,IAAK;MAClE,CAAC;MACDC,IAAI,EAAC,CAEL;IACJ;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,UAAS,GAAIf,KAAK,CAACgB,OAAO,CAAC,eAAe,KAAK,CAAC;IACrD,IAAI,CAACC,WAAW,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAC;IACJD,WAAWA,CAAA,EAAE;MACTlB,SAAS,CAACoB,GAAG,CAAC,4BAA4B,IAAI,CAACJ,UAAU,EAAE,EAClDK,IAAI,CAACC,QAAQ,IAAE;QACZ,IAAI,CAACC,YAAW,GAAID,QAAQ,CAACnB,IAAI;MACrC,CAAC,EACAqB,KAAK,CAACC,KAAK,IAAE;QACV,IAAI,CAACC,OAAM,GAAI,iCAAgC,GAAID,KAAK;QACxD,IAAI,CAACE,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,KAAK;MAC9B,CAAC;IACb,CAAC;IACDC,QAAQA,CAACC,MAAM,EAAC;MACZ;MACA9B,SAAQ,CACP+B,GAAG,CAAC,6BAA6B,IAAI,CAACf,UAAU,WAAWc,MAAM,WAAW,IAAI,EAAE,EAClFT,IAAI,CAAC,MAAM;QACR;QACA,IAAI,CAACK,OAAM,GAAI,sBAAsB;QACrC,IAAI,CAACC,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,OAAO;QAC5B,IAAI,CAACV,WAAW,CAAC,CAAC;MACtB,CAAC,EACAM,KAAK,CAAEC,KAAK,IAAK;QACd;QACA,IAAI,CAACC,OAAM,GACX,2BAA0B,IACzBD,KAAK,CAACH,QAAQ,EAAEnB,IAAI,EAAEuB,OAAM,IAAKD,KAAK,CAACC,OAAM,IAAK,gBAAgB,CAAC;QACpE,IAAI,CAACC,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,KAAK;MAC9B,CAAC;IACL,CAAC;IACDI,UAAUA,CAACF,MAAM,EAAC;MACd,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE,QAAQ;QAAEC,MAAM,EAAE;UAAEC,MAAM,EAAEP;QAAO;MAAE,CAAC,CAAC;IACrE,CAAC;IACDQ,WAAWA,CAACC,KAAK,EAAC;MACd,OAAOrC,MAAM,CAACsC,gBAAgB,CAACD,KAAK,CAAC;IACzC;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}