{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\n//import apiClient from '@/plugins/axios';\n//import store from \"../../state/store\";\nimport Axios from \"axios\";\nimport common from \"@/components/common/JavaScripCommon\";\nexport default {\n  data() {\n    return {\n      rules: {\n        required: v => !!v || 'Vui lòng không để trống',\n        validPhone: v => /^0\\d{9}$/.test(v) || 'Số điện thoại phải có 10 chữ số và bắt đầu bằng 0',\n        validEmail: v => /^[a-zA-Z0-9._%+-]+@gmail\\.com$/.test(v) || 'Email phải hợp lệ và kết thúc bằng @gmail.com',\n        validPassword: v => /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/.test(v) || 'Mật khẩu phải có ít nhất 8 ký tự, bao gồm ít nhất 1 chữ cái và 1 chữ số',\n        matchPassword: v => v === this.changePassword.passwordNew || 'Mật khẩu xác nhận không khớp'\n      },\n      Gender: [{\n        title: 'Nam',\n        value: 1\n      }, {\n        title: 'Nữ',\n        value: 2\n      }],\n      post: {},\n      tinhData: [],\n      huyenData: [],\n      phuongData: [],\n      selectTinh: null,\n      selectHuyen: null,\n      selectPhuong: null,\n      address: '',\n      previewUrls: []\n    };\n  },\n  created() {\n    Axios.get(`https://esgoo.net/api-tinhthanh/1/0.htm`).then(response => {\n      this.tinhData = response.data.data;\n    }).catch(error => {\n      this.message = \"Lấy danh sách tỉnh thành bị lỗi \" + error;\n      this.snackbar = true;\n      this.snackbarColor = 'red';\n    });\n  },\n  methods: {\n    onTinhChange() {\n      Axios.get(`https://esgoo.net/api-tinhthanh/2/${this.selectTinh}.htm`).then(response => {\n        this.huyenData = response.data.data;\n      }).catch(error => {\n        this.message = \"Lấy danh sách tỉnh thành bị lỗi \" + error;\n        this.snackbar = true;\n        this.snackbarColor = 'red';\n      });\n    },\n    onHuyenChange() {\n      Axios.get(`https://esgoo.net/api-tinhthanh/3/${this.selectHuyen}.htm`).then(response => {\n        this.phuongData = response.data.data;\n      }).catch(error => {\n        this.message = \"Lấy danh sách tỉnh thành bị lỗi \" + error;\n        this.snackbar = true;\n        this.snackbarColor = 'red';\n      });\n    },\n    onPhuongChange() {\n      const tinh = this.tinhData.find(item => item.id === this.selectTinh);\n      const huyen = this.huyenData.find(item => item.id === this.selectHuyen);\n      const phuong = this.phuongData.find(item => item.id === this.selectPhuong);\n      if (tinh && huyen && phuong) {\n        return ` ${phuong.full_name} ${huyen.full_name} ${tinh.full_name}`;\n      } else {\n        return ''; // Trả về chuỗi rỗng nếu có một trong các biến là null hoặc undefined\n      }\n    },\n    FormatAddress() {\n      this.post.address = this.address + this.onPhuongChange();\n    },\n    FormatPrice(price) {\n      return common.formatTablePrice(price);\n    },\n    handleFileChange() {\n      this.previewUrls = [];\n      if (this.post.imgRoom) {\n        for (let file of this.post.imgRoom) {\n          const reader = new FileReader();\n          reader.onload = e => {\n            this.previewUrls.push(e.target.result);\n          };\n          reader.readAsDataURL(file);\n        }\n        console.log(this.previewUrls);\n      }\n    }\n  }\n};","map":{"version":3,"names":["Axios","common","data","rules","required","v","validPhone","test","validEmail","validPassword","matchPassword","changePassword","passwordNew","Gender","title","value","post","tinhData","huyenData","phuongData","selectTinh","selectHuyen","selectPhuong","address","previewUrls","created","get","then","response","catch","error","message","snackbar","snackbarColor","methods","onTinhChange","onHuyenChange","onPhuongChange","tinh","find","item","id","huyen","phuong","full_name","FormatAddress","FormatPrice","price","formatTablePrice","handleFileChange","imgRoom","file","reader","FileReader","onload","e","push","target","result","readAsDataURL","console","log"],"sources":["D:\\Du_An\\BoardingHouseManagement\\FrontEnd\\src\\views\\FindRoom\\Post.vue"],"sourcesContent":["<script>\r\n    //import apiClient from '@/plugins/axios';\r\n    //import store from \"../../state/store\";\r\n    import Axios from \"axios\";\r\n    import common from \"@/components/common/JavaScripCommon\"\r\n    export default {\r\n        data(){\r\n            return{\r\n                rules: {\r\n                    required: v => !!v || 'Vui lòng không để trống',\r\n                    validPhone: v => /^0\\d{9}$/.test(v) || 'Số điện thoại phải có 10 chữ số và bắt đầu bằng 0',\r\n                    validEmail: v => /^[a-zA-Z0-9._%+-]+@gmail\\.com$/.test(v) || 'Email phải hợp lệ và kết thúc bằng @gmail.com',\r\n                    validPassword: v=> /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/.test(v) || 'Mật khẩu phải có ít nhất 8 ký tự, bao gồm ít nhất 1 chữ cái và 1 chữ số',\r\n                    matchPassword: (v) =>v === this.changePassword.passwordNew || 'Mật khẩu xác nhận không khớp',\r\n                },\r\n                Gender:[\r\n                    {title: 'Nam', value: 1},\r\n                    {title: 'Nữ', value: 2}\r\n                ],\r\n                post:{\r\n\r\n                },\r\n                tinhData: [\r\n                    \r\n                ],\r\n                huyenData: [\r\n                    \r\n                ],\r\n                phuongData: [\r\n                    \r\n                ],\r\n                selectTinh: null,\r\n                selectHuyen: null,\r\n                selectPhuong: null,\r\n                address: '',\r\n                previewUrls: [],\r\n            }\r\n        },\r\n        created(){\r\n            Axios.get(`https://esgoo.net/api-tinhthanh/1/0.htm`)\r\n                .then(response=>{\r\n                    this.tinhData =  response.data.data;\r\n                })\r\n                .catch(error=>{\r\n                    this.message = \"Lấy danh sách tỉnh thành bị lỗi \" + error;\r\n                    this.snackbar = true;\r\n                    this.snackbarColor = 'red';\r\n                })\r\n        },\r\n        methods:{\r\n            onTinhChange(){\r\n                Axios.get(`https://esgoo.net/api-tinhthanh/2/${this.selectTinh}.htm`)\r\n                            .then(response=>{\r\n                                this.huyenData =  response.data.data;\r\n                            })\r\n                            .catch(error=>{\r\n                                this.message = \"Lấy danh sách tỉnh thành bị lỗi \" + error;\r\n                                this.snackbar = true;\r\n                                this.snackbarColor = 'red';\r\n                            })\r\n            },\r\n            onHuyenChange(){\r\n                Axios.get(`https://esgoo.net/api-tinhthanh/3/${this.selectHuyen}.htm`)\r\n                            .then(response=>{\r\n                                this.phuongData =  response.data.data;\r\n                            })\r\n                            .catch(error=>{\r\n                                this.message = \"Lấy danh sách tỉnh thành bị lỗi \" + error;\r\n                                this.snackbar = true;\r\n                                this.snackbarColor = 'red';\r\n                            })\r\n            },\r\n            onPhuongChange(){\r\n                const tinh = this.tinhData.find(item => item.id === this.selectTinh);\r\n                const huyen = this.huyenData.find(item => item.id === this.selectHuyen);\r\n                const phuong = this.phuongData.find(item => item.id === this.selectPhuong);\r\n                if (tinh && huyen && phuong) {\r\n                    return ` ${phuong.full_name} ${huyen.full_name} ${tinh.full_name}`;\r\n                } else {\r\n                    return ''; // Trả về chuỗi rỗng nếu có một trong các biến là null hoặc undefined\r\n                }\r\n            },\r\n            FormatAddress(){\r\n                this.post.address = this.address + this.onPhuongChange();\r\n            },\r\n            FormatPrice(price){\r\n                return common.formatTablePrice(price);\r\n            },\r\n            handleFileChange() {\r\n                this.previewUrls = [];\r\n                if (this.post.imgRoom) {\r\n                    for (let file of this.post.imgRoom) {\r\n                    const reader = new FileReader();\r\n                    reader.onload = (e) => {\r\n                        this.previewUrls.push(e.target.result);\r\n                    };\r\n                    reader.readAsDataURL(file);\r\n                    }\r\n                    console.log(this.previewUrls)\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<template>\r\n    <v-container>\r\n        <v-row>\r\n            <v-col md=\"2\"></v-col>\r\n            <v-col cols=\"12\" md=\"8\">\r\n                <BCard>\r\n                    <BCardHeader>\r\n                        <h3>Đăng bài tìm người ở Ghép</h3>\r\n                    </BCardHeader>\r\n                    <BCardBody>\r\n                        <BRow>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group mt-lg-3\">\r\n                                    <label class=\"form-label\">Tiêu đề bài đăng</label>\r\n                                    <v-text-field \r\n                                        type=\"text\" \r\n                                        clearable \r\n                                        variant=\"outlined\" \r\n                                        placeholder=\"Nhập vào tiêu đề bài đăng\" \r\n                                        :rules=\"[rules.required]\" \r\n                                        v-model=\"post.name\"\r\n                                    ></v-text-field>     \r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Địa chỉ:</label>\r\n                                    <v-text-field v-model=\"post.address\" :rules=\"[rules.required]\" type=\"text\" @click=\"(viewDiaLogAddress = !viewDiaLogAddress) && btnAddress(index)\"  readonly variant=\"outlined\" class=\"input-control\"></v-text-field>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Giá phòng:</label>\r\n                                    <v-text-field v-model=\"post.priceRoom\" clearable :rules=\"[rules.required]\" type=\"text\" variant=\"outlined\" class=\"input-control\"></v-text-field>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Giới tính:</label>\r\n                                    <v-select\r\n                                        clearable\r\n                                        :items=\"Gender\"\r\n                                        :rules=\"[rules.required]\"\r\n                                        item-title=\"title\"\r\n                                        item-value=\"value\"\r\n                                        v-model=\"post.gender\"\r\n                                        variant=\"outlined\"\r\n                                        >\r\n                                    </v-select>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Mô tả:</label>\r\n                                    <v-textarea v-model=\"post.describe\" clearable :rules=\"[rules.required]\" variant=\"outlined\"></v-textarea>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Ảnh phòng:</label>\r\n                                    <v-file-input\r\n                                        v-model=\"post.imgRoom\"\r\n                                        multiple\r\n                                        accept=\"image/*\"\r\n                                        show-size\r\n                                        @change=\"handleFileChange\"\r\n                                    ></v-file-input>\r\n                                </div>\r\n                            </BCol>\r\n                            <v-row>\r\n                                <v-col\r\n                                    v-for=\"(file, index) in post.imgRoom\"\r\n                                    :key=\"index\"\r\n                                    cols=\"12\"\r\n                                    sm=\"6\"\r\n                                    md=\"3\"\r\n                                >\r\n                                    <v-img\r\n                                        :src=\"previewUrls?.[index] || post?.pathImgRoom?.[index]\"\r\n                                        aspect-ratio=\"1\"\r\n                                        class=\"mb-4\"\r\n                                    ></v-img>\r\n                                    <p>{{ file.name }}</p>\r\n                                </v-col>\r\n                            </v-row>\r\n                        </BRow>\r\n                    </BCardBody>\r\n                </BCard>\r\n            </v-col>\r\n        </v-row>\r\n        <BModal v-model=\"viewDiaLogAddress\" hide-footer title=\"Chọn địa chỉ\" modal-class=\"fadeInRight\"\r\n            class=\"v-modal-custom\" centered size=\"lg\" >\r\n            <div class=\"card-body\">\r\n                <v-form v-model=\"formAddress\" ref=\"formChange\">\r\n                    <transition name=\"slide-up\">\r\n                        <BRow>\r\n                            <BCol class=\"col-lg-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Tỉnh</label>\r\n                                    <v-autocomplete\r\n                                        v-model=\"selectTinh\"\r\n                                        :items=\"tinhData\"\r\n                                        item-title=\"full_name\"\r\n                                        item-value=\"id\"\r\n                                        outlined\r\n                                        dense\r\n                                        clearable\r\n                                        @update:modelValue=\"onTinhChange\"\r\n                                    ></v-autocomplete>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Quận, huyện</label>\r\n                                    <v-autocomplete\r\n                                        v-model=\"selectHuyen\"\r\n                                        :items=\"huyenData\"\r\n                                        item-title=\"full_name\"\r\n                                        item-value=\"id\"\r\n                                        outlined\r\n                                        dense\r\n                                        clearable\r\n                                        :disabled=\"!selectTinh\"\r\n                                        @update:modelValue=\"onHuyenChange\"\r\n                                    ></v-autocomplete>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Phường, xã</label>\r\n                                    <v-autocomplete\r\n                                        v-model=\"selectPhuong\"\r\n                                        :items=\"phuongData\"\r\n                                        item-title=\"full_name\"\r\n                                        item-value=\"id\"\r\n                                        outlined\r\n                                        dense\r\n                                        clearable\r\n                                        :disabled=\"!selectHuyen\"\r\n                                        @update:modelValue=\"onPhuongChange\"\r\n                                    ></v-autocomplete>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group\">\r\n                                <label class=\"form-label\">Số nhà:</label>\r\n                                <v-text-field\r\n                                    v-model=\"address\"\r\n                                    variant=\"outlined\"\r\n                                    :disabled=\"!selectPhuong\"\r\n                                    clearable\r\n                                    placeholder=\"Nhập vào tên dịch vụ\"\r\n                                    class=\"input-control\"\r\n                                    @input=\"FormatAddress\"\r\n                                ></v-text-field>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol class=\"col-lg-12\">\r\n                                <div class=\"form-group\">\r\n                                <label class=\"form-label\">Địa chỉ:</label>\r\n                                <v-text-field\r\n                                    v-model=\"addressConfirm\"\r\n                                    variant=\"outlined\"\r\n                                    readonly\r\n                                    class=\"input-control\"\r\n                                    :rules=\"[required]\"\r\n                                ></v-text-field>\r\n                                </div>\r\n                            </BCol>\r\n                        </BRow>\r\n                    </transition>\r\n                </v-form>\r\n            </div>\r\n            <div class=\"modal-footer v-modal-footer\">\r\n                <BButton type=\"button\" variant=\"light\" @click=\"viewDiaLogAddress = false\">Close\r\n                </BButton>\r\n                <BButton type=\"button\" variant=\"primary\" @click=\"btnSaveAddress()\" :disabled=\"!formAddress\">Save Changes</BButton>\r\n            </div>\r\n        </BModal>\r\n    </v-container>\r\n</template>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}