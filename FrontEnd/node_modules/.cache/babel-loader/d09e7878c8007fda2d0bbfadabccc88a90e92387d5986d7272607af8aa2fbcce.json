{"ast":null,"code":"import { createStore } from 'vuex';\nimport modules from './modules';\nconst store = createStore({\n  modules,\n  // Enable strict mode in development to get a warning\n  // when mutating state outside of a mutation.\n  // https://vuex.vuejs.org/guide/strict.html\n  strict: process.env.NODE_ENV !== 'production',\n  state: {\n    isSidebarHidden: false,\n    isMobileSidebarActive: false,\n    isFixedWidth: false,\n    token: null,\n    userId: null,\n    roomId: null,\n    tokenCustomer: null,\n    customerId: null\n  },\n  mutations: {\n    toggleSidebar(state) {\n      state.isSidebarHidden = !state.isSidebarHidden;\n    },\n    toggleMobileSidebar(state) {\n      state.isMobileSidebarActive = !state.isMobileSidebarActive;\n    },\n    setFullWidth(state) {\n      state.isFixedWidth = false;\n    },\n    setFixedWidth(state) {\n      state.isFixedWidth = true;\n    },\n    changeLayoutType(state, payload) {\n      state.layoutType = payload.layoutType;\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    setUser(state, userId) {\n      state.userId = userId;\n    },\n    clearAuth(state) {\n      state.token = null;\n      state.userId = null;\n    },\n    setRoom(state, roomId) {\n      state.roomId = roomId;\n    },\n    setCustomerToken(state, token) {\n      state.tokenCustomer = token;\n    },\n    setCustomer(state, userId) {\n      state.customerId = userId;\n    }\n  },\n  actions: {\n    login({\n      commit\n    }, Userformation) {\n      const {\n        token,\n        userId\n      } = Userformation;\n      // Lưu token và userId vào Vuex\n      commit('setToken', token);\n      commit('setUser', userId);\n      // Cập nhật token vào header mặc định của axios\n      //axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    },\n    loginCustomer({\n      commit\n    }, Userformation) {\n      const {\n        token,\n        userId\n      } = Userformation;\n      // Lưu token và userId vào Vuex\n      commit('setToken', token);\n      commit('setUser', userId);\n      // Cập nhật token vào header mặc định của axios\n      //axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    },\n    logout({\n      commit\n    }) {\n      // Xóa dữ liệu trong Vuex\n      commit('clearAuth');\n\n      // Xóa token trong localStorage\n      localStorage.removeItem('tokenlandlord');\n      localStorage.removeItem('landlordId');\n\n      // Xóa header Authorization\n      //delete axios.defaults.headers.common['Authorization'];\n    },\n    autoLogin({\n      commit\n    }) {\n      // Kiểm tra token trong localStorage khi tải ứng dụng\n      const token = localStorage.getItem('tokenlandlord');\n      const userId = localStorage.getItem('landlordId');\n      if (token) {\n        commit('setToken', token);\n        // Gọi thêm API để lấy userId nếu cần\n      }\n      if (userId) {\n        commit('setUser', userId);\n      }\n    }\n  },\n  getters: {\n    isFixedWidth: state => state.isFixedWidth,\n    isAuthenticated(state) {\n      return !!state.token; // Trả về true nếu token không null\n    },\n    getUserId(state) {\n      return state.userId;\n    },\n    GetRoomId(state) {\n      return state.roomId;\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","modules","store","strict","process","env","NODE_ENV","state","isSidebarHidden","isMobileSidebarActive","isFixedWidth","token","userId","roomId","tokenCustomer","customerId","mutations","toggleSidebar","toggleMobileSidebar","setFullWidth","setFixedWidth","changeLayoutType","payload","layoutType","setToken","setUser","clearAuth","setRoom","setCustomerToken","setCustomer","actions","login","commit","Userformation","loginCustomer","logout","localStorage","removeItem","autoLogin","getItem","getters","isAuthenticated","getUserId","GetRoomId"],"sources":["D:/Code/BoardingHouseManagement/BoardingHouseManagement/FrontEnd/src/state/store.js"],"sourcesContent":["import { createStore } from 'vuex';\r\nimport modules from './modules';\r\n\r\n\r\n\r\nconst store = createStore({\r\n    modules,\r\n    // Enable strict mode in development to get a warning\r\n    // when mutating state outside of a mutation.\r\n    // https://vuex.vuejs.org/guide/strict.html\r\n    strict: process.env.NODE_ENV !== 'production',\r\n    state: {\r\n        isSidebarHidden: false,\r\n        isMobileSidebarActive: false,\r\n        isFixedWidth: false,\r\n        token: null,\r\n        userId: null,\r\n        roomId: null,\r\n        tokenCustomer: null,\r\n        customerId: null\r\n    },\r\n    mutations: {\r\n        toggleSidebar(state) {\r\n            state.isSidebarHidden = !state.isSidebarHidden;\r\n        },\r\n        toggleMobileSidebar(state) {\r\n            state.isMobileSidebarActive = !state.isMobileSidebarActive;\r\n        },\r\n        setFullWidth(state) {\r\n            state.isFixedWidth = false;\r\n        },\r\n        setFixedWidth(state) {\r\n            state.isFixedWidth = true;\r\n        },\r\n        changeLayoutType(state, payload) {\r\n            state.layoutType = payload.layoutType;\r\n        },\r\n        setToken(state, token) {\r\n            state.token = token;\r\n        },\r\n        setUser(state, userId) {\r\n            state.userId = userId;\r\n        },\r\n        clearAuth(state) {\r\n            state.token = null;\r\n            state.userId = null;\r\n        },\r\n        setRoom(state,roomId){\r\n            state.roomId = roomId;\r\n        },\r\n        setCustomerToken(state, token) {\r\n            state.tokenCustomer = token;\r\n        },\r\n        setCustomer(state, userId) {\r\n            state.customerId = userId;\r\n        },\r\n    },\r\n    actions: {\r\n        login({ commit }, Userformation) {\r\n            const { token, userId } = Userformation\r\n            // Lưu token và userId vào Vuex\r\n            commit('setToken', token);\r\n            commit('setUser', userId);\r\n            // Cập nhật token vào header mặc định của axios\r\n            //axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        },\r\n        loginCustomer({ commit }, Userformation) {\r\n            const { token, userId } = Userformation\r\n            // Lưu token và userId vào Vuex\r\n            commit('setToken', token);\r\n            commit('setUser', userId);\r\n            // Cập nhật token vào header mặc định của axios\r\n            //axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        },\r\n        logout({ commit }) {\r\n            // Xóa dữ liệu trong Vuex\r\n            commit('clearAuth');\r\n\r\n            // Xóa token trong localStorage\r\n            localStorage.removeItem('tokenlandlord');\r\n            localStorage.removeItem('landlordId');\r\n\r\n            // Xóa header Authorization\r\n            //delete axios.defaults.headers.common['Authorization'];\r\n\r\n        },\r\n        autoLogin({ commit }) {\r\n\r\n            // Kiểm tra token trong localStorage khi tải ứng dụng\r\n            const token = localStorage.getItem('tokenlandlord');\r\n            const userId = localStorage.getItem('landlordId');\r\n            if (token) {\r\n                commit('setToken', token);\r\n                // Gọi thêm API để lấy userId nếu cần\r\n            }\r\n            if(userId){\r\n                commit('setUser', userId);\r\n            }\r\n        },\r\n    },\r\n    getters: {\r\n        isFixedWidth: state => state.isFixedWidth,\r\n        isAuthenticated(state) {\r\n            return !!state.token; // Trả về true nếu token không null\r\n        },\r\n        getUserId(state) {\r\n            return state.userId;\r\n        },\r\n        GetRoomId(state){\r\n            return state.roomId;\r\n        }\r\n    },\r\n});\r\n\r\nexport default store;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,OAAO,MAAM,WAAW;AAI/B,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACtBC,OAAO;EACP;EACA;EACA;EACAE,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;EAC7CC,KAAK,EAAE;IACHC,eAAe,EAAE,KAAK;IACtBC,qBAAqB,EAAE,KAAK;IAC5BC,YAAY,EAAE,KAAK;IACnBC,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE,IAAI;IACZC,MAAM,EAAE,IAAI;IACZC,aAAa,EAAE,IAAI;IACnBC,UAAU,EAAE;EAChB,CAAC;EACDC,SAAS,EAAE;IACPC,aAAaA,CAACV,KAAK,EAAE;MACjBA,KAAK,CAACC,eAAe,GAAG,CAACD,KAAK,CAACC,eAAe;IAClD,CAAC;IACDU,mBAAmBA,CAACX,KAAK,EAAE;MACvBA,KAAK,CAACE,qBAAqB,GAAG,CAACF,KAAK,CAACE,qBAAqB;IAC9D,CAAC;IACDU,YAAYA,CAACZ,KAAK,EAAE;MAChBA,KAAK,CAACG,YAAY,GAAG,KAAK;IAC9B,CAAC;IACDU,aAAaA,CAACb,KAAK,EAAE;MACjBA,KAAK,CAACG,YAAY,GAAG,IAAI;IAC7B,CAAC;IACDW,gBAAgBA,CAACd,KAAK,EAAEe,OAAO,EAAE;MAC7Bf,KAAK,CAACgB,UAAU,GAAGD,OAAO,CAACC,UAAU;IACzC,CAAC;IACDC,QAAQA,CAACjB,KAAK,EAAEI,KAAK,EAAE;MACnBJ,KAAK,CAACI,KAAK,GAAGA,KAAK;IACvB,CAAC;IACDc,OAAOA,CAAClB,KAAK,EAAEK,MAAM,EAAE;MACnBL,KAAK,CAACK,MAAM,GAAGA,MAAM;IACzB,CAAC;IACDc,SAASA,CAACnB,KAAK,EAAE;MACbA,KAAK,CAACI,KAAK,GAAG,IAAI;MAClBJ,KAAK,CAACK,MAAM,GAAG,IAAI;IACvB,CAAC;IACDe,OAAOA,CAACpB,KAAK,EAACM,MAAM,EAAC;MACjBN,KAAK,CAACM,MAAM,GAAGA,MAAM;IACzB,CAAC;IACDe,gBAAgBA,CAACrB,KAAK,EAAEI,KAAK,EAAE;MAC3BJ,KAAK,CAACO,aAAa,GAAGH,KAAK;IAC/B,CAAC;IACDkB,WAAWA,CAACtB,KAAK,EAAEK,MAAM,EAAE;MACvBL,KAAK,CAACQ,UAAU,GAAGH,MAAM;IAC7B;EACJ,CAAC;EACDkB,OAAO,EAAE;IACLC,KAAKA,CAAC;MAAEC;IAAO,CAAC,EAAEC,aAAa,EAAE;MAC7B,MAAM;QAAEtB,KAAK;QAAEC;MAAO,CAAC,GAAGqB,aAAa;MACvC;MACAD,MAAM,CAAC,UAAU,EAAErB,KAAK,CAAC;MACzBqB,MAAM,CAAC,SAAS,EAAEpB,MAAM,CAAC;MACzB;MACA;IACJ,CAAC;IACDsB,aAAaA,CAAC;MAAEF;IAAO,CAAC,EAAEC,aAAa,EAAE;MACrC,MAAM;QAAEtB,KAAK;QAAEC;MAAO,CAAC,GAAGqB,aAAa;MACvC;MACAD,MAAM,CAAC,UAAU,EAAErB,KAAK,CAAC;MACzBqB,MAAM,CAAC,SAAS,EAAEpB,MAAM,CAAC;MACzB;MACA;IACJ,CAAC;IACDuB,MAAMA,CAAC;MAAEH;IAAO,CAAC,EAAE;MACf;MACAA,MAAM,CAAC,WAAW,CAAC;;MAEnB;MACAI,YAAY,CAACC,UAAU,CAAC,eAAe,CAAC;MACxCD,YAAY,CAACC,UAAU,CAAC,YAAY,CAAC;;MAErC;MACA;IAEJ,CAAC;IACDC,SAASA,CAAC;MAAEN;IAAO,CAAC,EAAE;MAElB;MACA,MAAMrB,KAAK,GAAGyB,YAAY,CAACG,OAAO,CAAC,eAAe,CAAC;MACnD,MAAM3B,MAAM,GAAGwB,YAAY,CAACG,OAAO,CAAC,YAAY,CAAC;MACjD,IAAI5B,KAAK,EAAE;QACPqB,MAAM,CAAC,UAAU,EAAErB,KAAK,CAAC;QACzB;MACJ;MACA,IAAGC,MAAM,EAAC;QACNoB,MAAM,CAAC,SAAS,EAAEpB,MAAM,CAAC;MAC7B;IACJ;EACJ,CAAC;EACD4B,OAAO,EAAE;IACL9B,YAAY,EAAEH,KAAK,IAAIA,KAAK,CAACG,YAAY;IACzC+B,eAAeA,CAAClC,KAAK,EAAE;MACnB,OAAO,CAAC,CAACA,KAAK,CAACI,KAAK,CAAC,CAAC;IAC1B,CAAC;IACD+B,SAASA,CAACnC,KAAK,EAAE;MACb,OAAOA,KAAK,CAACK,MAAM;IACvB,CAAC;IACD+B,SAASA,CAACpC,KAAK,EAAC;MACZ,OAAOA,KAAK,CAACM,MAAM;IACvB;EACJ;AACJ,CAAC,CAAC;AAEF,eAAeX,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}