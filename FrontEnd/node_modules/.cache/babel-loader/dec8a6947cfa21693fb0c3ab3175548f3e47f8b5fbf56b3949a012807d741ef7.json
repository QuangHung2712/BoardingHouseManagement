{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport apiClient from '@/plugins/axios';\nimport store from \"../../state/store\";\nimport common from \"@/components/common/JavaScripCommon\";\nexport default {\n  data() {\n    return {\n      window: 0,\n      length: 3,\n      roomSaveData: [],\n      customerId: 0,\n      postSaveData: []\n    };\n  },\n  created() {\n    this.customerId = store.getters['getCustomerId'] ?? 0;\n    this.GetSaveRoom();\n    this.GetSavePost();\n  },\n  methods: {\n    GetSaveRoom() {\n      apiClient.get(`/Customer/GetSaveRoom?id=${this.customerId}`).then(response => {\n        this.roomSaveData = response.data;\n      }).catch(error => {\n        this.message = \"Lấy danh sách phòng lưu bị lỗi \" + error;\n        this.snackbar = true;\n        this.snackbarColor = 'red';\n      });\n    },\n    GetSavePost() {\n      apiClient.get(`/Customer/GetSavePost?id=${this.customerId}`).then(response => {\n        this.postSaveData = response.data;\n      }).catch(error => {\n        this.message = \"Lấy danh sách phòng lưu bị lỗi \" + error;\n        this.snackbar = true;\n        this.snackbarColor = 'red';\n      });\n    },\n    SaveRoom(roomId) {\n      // Gửi yêu cầu API\n      apiClient.put(`/Room/SaveRoom?customerId=${this.customerId}&roomId=${roomId}&status=${true}`).then(() => {\n        // Hiển thị thông báo thành công\n        this.message = \"Xoá phòng thành công\";\n        this.snackbar = true;\n        this.snackbarColor = \"green\";\n        this.GetSaveRoom();\n      }).catch(error => {\n        // Xử lý lỗi\n        this.message = \"Xóa lưu phòng đã xảy ra lỗi: \" + (error.response?.data?.message || error.message || \"Không xác định\");\n        this.snackbar = true;\n        this.snackbarColor = \"red\";\n      });\n    },\n    Savepost(postId) {\n      // Gửi yêu cầu API\n      apiClient.put(`/Post/SavePost?customerId=${this.customerId}&postId=${postId}&status=${true}`).then(() => {\n        // Hiển thị thông báo thành công\n        this.message = \"Xoá phòng thành công\";\n        this.snackbar = true;\n        this.snackbarColor = \"green\";\n        this.GetSavePost();\n      }).catch(error => {\n        // Xử lý lỗi\n        this.message = \"Xóa lưu bài đăng đã xảy ra lỗi: \" + (error.response?.data?.message || error.message || \"Không xác định\");\n        this.snackbar = true;\n        this.snackbarColor = \"red\";\n      });\n    },\n    GotoDetail(roomId) {\n      this.$router.push({\n        name: 'detail',\n        params: {\n          idroom: roomId\n        }\n      });\n    },\n    FormatPrice(price) {\n      return common.formatTablePrice(price);\n    }\n  }\n};","map":{"version":3,"names":["apiClient","store","common","data","window","length","roomSaveData","customerId","postSaveData","created","getters","GetSaveRoom","GetSavePost","methods","get","then","response","catch","error","message","snackbar","snackbarColor","SaveRoom","roomId","put","Savepost","postId","GotoDetail","$router","push","name","params","idroom","FormatPrice","price","formatTablePrice"],"sources":["D:\\Du_An\\BoardingHouseManagement\\FrontEnd\\src\\views\\FindRoom\\Save.vue"],"sourcesContent":["<style scoped>\r\n    p{\r\n        font-size: 14px !important;\r\n    }\r\n    .v-window__left, .v-window__right {\r\n        font-size: 16px; /* Điều chỉnh kích thước của nút */\r\n        width: 10px !important; /* Thu nhỏ chiều rộng của nút */\r\n        height: 30px; /* Thu nhỏ chiều cao của nút */\r\n    }\r\n</style>\r\n\r\n<script>\r\n    import apiClient from '@/plugins/axios';\r\n    import store from \"../../state/store\";\r\n    import common from \"@/components/common/JavaScripCommon\"\r\n\r\n\r\n    export default {\r\n        data(){\r\n            return{\r\n                window: 0,\r\n                length: 3,\r\n                roomSaveData:[],\r\n                customerId: 0,\r\n                postSaveData:[],\r\n            }\r\n        },\r\n        created(){\r\n            this.customerId = store.getters['getCustomerId'] ?? 0;\r\n            this.GetSaveRoom();\r\n            this.GetSavePost();\r\n        },\r\n        methods:{\r\n            GetSaveRoom(){\r\n                apiClient.get(`/Customer/GetSaveRoom?id=${this.customerId}`)\r\n                        .then(response=>{\r\n                            this.roomSaveData = response.data;\r\n                        })\r\n                        .catch(error=>{\r\n                            this.message = \"Lấy danh sách phòng lưu bị lỗi \" + error;\r\n                            this.snackbar = true;\r\n                            this.snackbarColor = 'red';\r\n                        })\r\n            },\r\n            GetSavePost(){\r\n                apiClient.get(`/Customer/GetSavePost?id=${this.customerId}`)\r\n                        .then(response=>{\r\n                            this.postSaveData = response.data;\r\n                        })\r\n                        .catch(error=>{\r\n                            this.message = \"Lấy danh sách phòng lưu bị lỗi \" + error;\r\n                            this.snackbar = true;\r\n                            this.snackbarColor = 'red';\r\n                        })\r\n            },\r\n            SaveRoom(roomId){\r\n                // Gửi yêu cầu API\r\n                apiClient\r\n                .put(`/Room/SaveRoom?customerId=${this.customerId}&roomId=${roomId}&status=${true}`)\r\n                .then(() => {\r\n                    // Hiển thị thông báo thành công\r\n                    this.message = \"Xoá phòng thành công\";\r\n                    this.snackbar = true;\r\n                    this.snackbarColor = \"green\";\r\n                    this.GetSaveRoom();\r\n                })\r\n                .catch((error) => {\r\n                    // Xử lý lỗi\r\n                    this.message =\r\n                    \"Xóa lưu phòng đã xảy ra lỗi: \" +\r\n                    (error.response?.data?.message || error.message || \"Không xác định\");\r\n                    this.snackbar = true;\r\n                    this.snackbarColor = \"red\";\r\n                })\r\n            },\r\n            Savepost(postId){\r\n                // Gửi yêu cầu API\r\n                apiClient\r\n                .put(`/Post/SavePost?customerId=${this.customerId}&postId=${postId}&status=${true}`)\r\n                .then(() => {\r\n                     // Hiển thị thông báo thành công\r\n                    this.message = \"Xoá phòng thành công\";\r\n                    this.snackbar = true;\r\n                    this.snackbarColor = \"green\";\r\n                    this.GetSavePost();\r\n                })\r\n                .catch((error) => {\r\n                    // Xử lý lỗi\r\n                    this.message =\r\n                    \"Xóa lưu bài đăng đã xảy ra lỗi: \" +\r\n                    (error.response?.data?.message || error.message || \"Không xác định\");\r\n                    this.snackbar = true;\r\n                    this.snackbarColor = \"red\";\r\n                })\r\n            },\r\n            GotoDetail(roomId){\r\n                this.$router.push({ name: 'detail', params: { idroom: roomId } });\r\n            },\r\n            FormatPrice(price){\r\n                return common.formatTablePrice(price);\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<template>\r\n    <v-container>\r\n        <v-row>\r\n            <v-col cols=\"6\">\r\n                <BCard no-body>\r\n                    <BCardHeader class=\"p-3\">\r\n                        <h4 class=\"m-0\">Phòng đã lưu</h4>\r\n                    </BCardHeader>\r\n                    <BCardBody class=\"p-2\">\r\n                        <h2 v-if=\"roomSaveData == 0\">Không có phòng nào</h2>\r\n                        <BCard no-body v-else v-for=\"(room,index) in roomSaveData\" :key=\"index\">\r\n                            <BRow>\r\n                                <BCol class=\"col-md-4 col-12\">\r\n                                    <v-img\r\n                                        src=\"/images/Room/20241119180012-04a6_wm.jpg\"\r\n                                        alt=\"Room Image\"\r\n                                        aspect-ratio=\"16/9\"\r\n                                        class=\"rounded elevation-2\"\r\n                                        contain\r\n                                    ></v-img>\r\n                                </BCol>\r\n                                <BCol class=\"col-md-8 col-12 mt-2\">\r\n                                    <button @click=\"GotoDetail(room.roomId)\" class=\"text-left\">\r\n                                        <h5> {{ room.towerName }} </h5>\r\n                                        <h6>Giá: <span style=\"color: red;\">{{ FormatPrice(room.price) }}</span></h6>\r\n                                        <p><v-icon>mdi-map-marker-radius</v-icon>Địa chỉ: {{ room.towerAddress }} </p>\r\n                                        <p>Thiết bị: {{ room.device }}</p>\r\n                                    </button>\r\n                                    <div class=\"text-right\">\r\n                                        <BButton variant=\"white\" style=\"color: red;\" @click=\"SaveRoom(room.roomId)\"><v-icon>mdi-heart</v-icon></BButton>\r\n                                    </div>\r\n                                </BCol>\r\n                            </BRow>\r\n                        </BCard>\r\n                    </BCardBody>\r\n                </BCard>\r\n            </v-col>\r\n            <v-col cols=\"6\">\r\n                <BCard no-body>\r\n                    <BCardHeader class=\"p-3\">\r\n                        <h4 class=\"m-0\">Tin đã lưu</h4>\r\n                    </BCardHeader>\r\n                    <BCardBody class=\"p-2\">\r\n                       <h2>Không có tin nào</h2>\r\n                    </BCardBody>\r\n                </BCard>\r\n                \r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>"],"mappings":";AAYI,OAAOA,SAAQ,MAAO,iBAAiB;AACvC,OAAOC,KAAI,MAAO,mBAAmB;AACrC,OAAOC,MAAK,MAAO,qCAAoC;AAGvD,eAAe;EACXC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,MAAM,EAAE,CAAC;MACTC,MAAM,EAAE,CAAC;MACTC,YAAY,EAAC,EAAE;MACfC,UAAU,EAAE,CAAC;MACbC,YAAY,EAAC;IACjB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACF,UAAS,GAAIN,KAAK,CAACS,OAAO,CAAC,eAAe,KAAK,CAAC;IACrD,IAAI,CAACC,WAAW,CAAC,CAAC;IAClB,IAAI,CAACC,WAAW,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAC;IACJF,WAAWA,CAAA,EAAE;MACTX,SAAS,CAACc,GAAG,CAAC,4BAA4B,IAAI,CAACP,UAAU,EAAE,EAClDQ,IAAI,CAACC,QAAQ,IAAE;QACZ,IAAI,CAACV,YAAW,GAAIU,QAAQ,CAACb,IAAI;MACrC,CAAC,EACAc,KAAK,CAACC,KAAK,IAAE;QACV,IAAI,CAACC,OAAM,GAAI,iCAAgC,GAAID,KAAK;QACxD,IAAI,CAACE,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,KAAK;MAC9B,CAAC;IACb,CAAC;IACDT,WAAWA,CAAA,EAAE;MACTZ,SAAS,CAACc,GAAG,CAAC,4BAA4B,IAAI,CAACP,UAAU,EAAE,EAClDQ,IAAI,CAACC,QAAQ,IAAE;QACZ,IAAI,CAACR,YAAW,GAAIQ,QAAQ,CAACb,IAAI;MACrC,CAAC,EACAc,KAAK,CAACC,KAAK,IAAE;QACV,IAAI,CAACC,OAAM,GAAI,iCAAgC,GAAID,KAAK;QACxD,IAAI,CAACE,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,KAAK;MAC9B,CAAC;IACb,CAAC;IACDC,QAAQA,CAACC,MAAM,EAAC;MACZ;MACAvB,SAAQ,CACPwB,GAAG,CAAC,6BAA6B,IAAI,CAACjB,UAAU,WAAWgB,MAAM,WAAW,IAAI,EAAE,EAClFR,IAAI,CAAC,MAAM;QACR;QACA,IAAI,CAACI,OAAM,GAAI,sBAAsB;QACrC,IAAI,CAACC,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,OAAO;QAC5B,IAAI,CAACV,WAAW,CAAC,CAAC;MACtB,CAAC,EACAM,KAAK,CAAEC,KAAK,IAAK;QACd;QACA,IAAI,CAACC,OAAM,GACX,+BAA8B,IAC7BD,KAAK,CAACF,QAAQ,EAAEb,IAAI,EAAEgB,OAAM,IAAKD,KAAK,CAACC,OAAM,IAAK,gBAAgB,CAAC;QACpE,IAAI,CAACC,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,KAAK;MAC9B,CAAC;IACL,CAAC;IACDI,QAAQA,CAACC,MAAM,EAAC;MACZ;MACA1B,SAAQ,CACPwB,GAAG,CAAC,6BAA6B,IAAI,CAACjB,UAAU,WAAWmB,MAAM,WAAW,IAAI,EAAE,EAClFX,IAAI,CAAC,MAAM;QACP;QACD,IAAI,CAACI,OAAM,GAAI,sBAAsB;QACrC,IAAI,CAACC,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,OAAO;QAC5B,IAAI,CAACT,WAAW,CAAC,CAAC;MACtB,CAAC,EACAK,KAAK,CAAEC,KAAK,IAAK;QACd;QACA,IAAI,CAACC,OAAM,GACX,kCAAiC,IAChCD,KAAK,CAACF,QAAQ,EAAEb,IAAI,EAAEgB,OAAM,IAAKD,KAAK,CAACC,OAAM,IAAK,gBAAgB,CAAC;QACpE,IAAI,CAACC,QAAO,GAAI,IAAI;QACpB,IAAI,CAACC,aAAY,GAAI,KAAK;MAC9B,CAAC;IACL,CAAC;IACDM,UAAUA,CAACJ,MAAM,EAAC;MACd,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE,QAAQ;QAAEC,MAAM,EAAE;UAAEC,MAAM,EAAET;QAAO;MAAE,CAAC,CAAC;IACrE,CAAC;IACDU,WAAWA,CAACC,KAAK,EAAC;MACd,OAAOhC,MAAM,CAACiC,gBAAgB,CAACD,KAAK,CAAC;IACzC;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}